===================
Practica 1         |
===================
# 1. Verificar el contenido del directorio web
cd /var/www/
ls
ll
cd html

# 2. Crear y editar el archivo principal del sitio
nano index.html
cat index.html

# 3. Verificar y habilitar el servicio Apache
systemctl status apache2
systemctl start apache2
systemctl status apache2

# 4. Probar el servicio localmente
curl -I http://localhost
curl http://localhost

# 5. Crear archivo de configuración para el sitio
nano /etc/apache2/sites-available/html.local.conf

# 6. Verificar sintaxis de configuración
apache2ctl configtest

# 7. Habilitar el sitio y recargar Apache
a2ensite html.local.conf
systemctl reload apache2
apache2ctl configtest

# 8. Agregar dominio al archivo hosts
nano /etc/hosts

# 9. Comprobar resolución y acceso
ping html.local
curl -I http://html.local
curl http://html.local

# 10. Crear nuevo sitio adicional
mkdir /var/www/practica1.com
cd /var/www/practica1.com
nano index.html
cat index.html
cd ..

# 11. Crear configuración del nuevo sitio
nano /etc/apache2/sites-available/practica1.com.conf

# 12. Verificar puertos de Apache
nano /etc/apache2/ports.conf

# 13. Habilitar sitio y deshabilitar el default
a2dissite 000-default.conf
a2ensite practica1.com.conf
a2query -s

# 14. Recargar Apache
systemctl reload apache2

# 15. Agregar dominio al hosts y probar
nano /etc/hosts
ping practica1.com
curl -I http://practica1.com
curl http://practica1.com
curl http://practica1.com:8080
  
===================
Practica 2        |
===================

# 1. Instalar Postfix y dependencias
sudo apt update
sudo apt install postfix mailutils libsasl2-modules sasl2-bin rsyslog -y

# 2. Verificar servicios
systemctl status postfix
systemctl enable --now rsyslog
systemctl status rsyslog

# 3. Editar configuración principal
nano /etc/postfix/main.cf

# dentro de main.cf
relayhost = [smtp.gmail.com]:587
smtp_sasl_auth_enable = yes
smtp_sasl_security_options = noanonymous
smtp_sasl_password_maps = hash:/etc/postfix/sasl_passwd
smtp_tls_CAfile = /etc/ssl/certs/ca-certificates.crt
smtp_use_tls = yes

# 4. Crear archivo con credenciales
nano /etc/postfix/sasl_passwd
[smtp.gmail.com]:587 gersonjavierperezreyes16@gmail.com:CONTRASEÑA_DE_APLICACION

# 5. Aplicar permisos y mapear archivo
sudo postmap /etc/postfix/sasl_passwd
sudo chmod 600 /etc/postfix/sasl_passwd /etc/postfix/sasl_passwd.db

# 6. Reiniciar y probar Postfix
sudo systemctl restart postfix
tail -f /var/log/syslog

# 7. Enviar correo de prueba
echo "Gerson Javier Pérez Reyes - 20241529" | mail -s "MambruSeFueALaGuerra" os3conadrian@gmail.com


===================
Practica 3        |
===================
# 1. Instalar CUPS y CUPS-PDF
sudo apt install cups cups-pdf -y

# 2. Iniciar y verificar el servicio
systemctl start cups
systemctl status cups

# 3. Editar configuración de CUPS
nano /etc/cups/cupsd.conf

# 4. Reiniciar servicio
systemctl restart cups

# 5. Agregar usuario al grupo lpadmin
usermod -aG lpadmin root

# 6. Verificar pertenencia al grupo
cat /etc/group | grep lpadmin

# 7. Permitir acceso al puerto de impresión
ufw allow 631
ufw allow 631/tcp